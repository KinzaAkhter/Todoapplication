"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/login/page",{

/***/ "(app-pages-browser)/./src/lib/auth.ts":
/*!*************************!*\
  !*** ./src/lib/auth.ts ***!
  \*************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   authClient: function() { return /* binding */ authClient; },\n/* harmony export */   getUserSession: function() { return /* binding */ getUserSession; },\n/* harmony export */   isAuthenticated: function() { return /* binding */ isAuthenticated; },\n/* harmony export */   signIn: function() { return /* binding */ signIn; },\n/* harmony export */   signOut: function() { return /* binding */ signOut; }\n/* harmony export */ });\n// Mock authentication implementation with Better Auth compatible interface\n// In a real application, this would connect to your authentication API\n// Mock auth client that matches Better Auth interface\nconst authClient = {\n    signIn: {\n        email: async (credentials)=>{\n            // Simulate API call to backend for authentication\n            try {\n                // Make request to backend login endpoint\n                const response = await fetch(\"\".concat(\"https://todoapplication-1-gj6i.onrender.com\", \"/auth/login\"), {\n                    method: \"POST\",\n                    headers: {\n                        \"Content-Type\": \"application/json\"\n                    },\n                    body: JSON.stringify({\n                        email: credentials.email,\n                        password: credentials.password\n                    })\n                });\n                if (response.ok) {\n                    const data = await response.json();\n                    // Store the JWT token\n                    localStorage.setItem(\"auth-token\", data.access_token);\n                    localStorage.setItem(\"user-id\", data.user.id);\n                    localStorage.setItem(\"user-email\", credentials.email);\n                    localStorage.setItem(\"user-name\", credentials.email.split(\"@\")[0]);\n                    // Redirect if callbackURL is provided\n                    if (credentials.callbackURL) {\n                        window.location.href = credentials.callbackURL;\n                    }\n                    return {\n                        data: {\n                            user: data.user\n                        },\n                        error: null\n                    };\n                } else {\n                    const errorData = await response.json();\n                    return {\n                        data: null,\n                        error: {\n                            message: errorData.detail || \"Login failed\"\n                        }\n                    };\n                }\n            } catch (error) {\n                return {\n                    data: null,\n                    error: {\n                        message: \"Network error occurred\"\n                    }\n                };\n            }\n        }\n    },\n    signUp: {\n        email: async (credentials)=>{\n            // Simulate API call to backend for registration\n            try {\n                // Make request to backend register endpoint\n                const response = await fetch(\"\".concat(\"https://todoapplication-1-gj6i.onrender.com\", \"/auth/register\"), {\n                    method: \"POST\",\n                    headers: {\n                        \"Content-Type\": \"application/json\"\n                    },\n                    body: JSON.stringify({\n                        email: credentials.email,\n                        password: credentials.password,\n                        name: credentials.name\n                    })\n                });\n                if (response.ok) {\n                    const data = await response.json();\n                    // Store the JWT token\n                    localStorage.setItem(\"auth-token\", data.access_token);\n                    localStorage.setItem(\"user-id\", data.user.id);\n                    localStorage.setItem(\"user-email\", credentials.email);\n                    localStorage.setItem(\"user-name\", credentials.name);\n                    // Redirect if callbackURL is provided\n                    if (credentials.callbackURL) {\n                        window.location.href = credentials.callbackURL;\n                    }\n                    return {\n                        data: {\n                            user: data.user\n                        },\n                        error: null\n                    };\n                } else {\n                    const errorData = await response.json();\n                    return {\n                        data: null,\n                        error: {\n                            message: errorData.detail || \"Registration failed\"\n                        }\n                    };\n                }\n            } catch (error) {\n                return {\n                    data: null,\n                    error: {\n                        message: \"Network error occurred\"\n                    }\n                };\n            }\n        }\n    },\n    signOut: async ()=>{\n        try {\n            // Clear local storage\n            localStorage.removeItem(\"auth-token\");\n            localStorage.removeItem(\"user-id\");\n            localStorage.removeItem(\"user-email\");\n            localStorage.removeItem(\"user-name\");\n            // Redirect to login page\n            window.location.href = \"/login\";\n        } catch (error) {\n            console.error(\"Error during sign out:\", error);\n        }\n    }\n};\n// Helper function to check if user is authenticated\nconst isAuthenticated = async ()=>{\n    // Check if there's a token in localStorage\n    const token = localStorage.getItem(\"auth-token\");\n    return !!token && token.length > 0;\n};\n// Helper function to get user session\nconst getUserSession = async ()=>{\n    const token = localStorage.getItem(\"auth-token\");\n    if (token) {\n        // In a real implementation, you'd decode the JWT or make an API call to get user info\n        return {\n            user: {\n                id: localStorage.getItem(\"user-id\") || \"mock-user-id\",\n                email: localStorage.getItem(\"user-email\") || \"mock@example.com\",\n                name: localStorage.getItem(\"user-name\") || \"Mock User\"\n            },\n            token,\n            expiresAt: new Date(Date.now() + 7 * 24 * 60 * 60 * 1000)\n        };\n    }\n    return null;\n};\n// Individual helper functions for backward compatibility\nconst signIn = async (email, password)=>{\n    try {\n        // Make request to backend login endpoint\n        const response = await fetch(\"\".concat(\"https://todoapplication-1-gj6i.onrender.com\", \"/auth/login\"), {\n            method: \"POST\",\n            headers: {\n                \"Content-Type\": \"application/json\"\n            },\n            body: JSON.stringify({\n                email,\n                password\n            })\n        });\n        if (response.ok) {\n            const data = await response.json();\n            // Store the JWT token\n            localStorage.setItem(\"auth-token\", data.access_token);\n            localStorage.setItem(\"user-id\", data.user.id);\n            localStorage.setItem(\"user-email\", email);\n            localStorage.setItem(\"user-name\", email.split(\"@\")[0]);\n            return true;\n        } else {\n            const errorData = await response.json();\n            throw new Error(errorData.detail || \"Login failed\");\n        }\n    } catch (error) {\n        console.error(\"Sign in error:\", error);\n        throw error;\n    }\n};\nconst signOut = async ()=>{\n    try {\n        // Clear local storage\n        localStorage.removeItem(\"auth-token\");\n        localStorage.removeItem(\"user-id\");\n        localStorage.removeItem(\"user-email\");\n        localStorage.removeItem(\"user-name\");\n    } catch (error) {\n        console.error(\"Error during sign out:\", error);\n        throw error;\n    }\n};\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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UUFDeEMsTUFBTUE7SUFDUjtBQUNGLEVBQUUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vc3JjL2xpYi9hdXRoLnRzPzY2OTIiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gTW9jayBhdXRoZW50aWNhdGlvbiBpbXBsZW1lbnRhdGlvbiB3aXRoIEJldHRlciBBdXRoIGNvbXBhdGlibGUgaW50ZXJmYWNlXHJcbi8vIEluIGEgcmVhbCBhcHBsaWNhdGlvbiwgdGhpcyB3b3VsZCBjb25uZWN0IHRvIHlvdXIgYXV0aGVudGljYXRpb24gQVBJXHJcblxyXG4vLyBNb2NrIGF1dGggY2xpZW50IHRoYXQgbWF0Y2hlcyBCZXR0ZXIgQXV0aCBpbnRlcmZhY2VcclxuZXhwb3J0IGNvbnN0IGF1dGhDbGllbnQgPSB7XHJcbiAgc2lnbkluOiB7XHJcbiAgICBlbWFpbDogYXN5bmMgKGNyZWRlbnRpYWxzOiB7IGVtYWlsOiBzdHJpbmc7IHBhc3N3b3JkOiBzdHJpbmc7IGNhbGxiYWNrVVJMPzogc3RyaW5nIH0pID0+IHtcclxuICAgICAgLy8gU2ltdWxhdGUgQVBJIGNhbGwgdG8gYmFja2VuZCBmb3IgYXV0aGVudGljYXRpb25cclxuICAgICAgdHJ5IHtcclxuICAgICAgICAvLyBNYWtlIHJlcXVlc3QgdG8gYmFja2VuZCBsb2dpbiBlbmRwb2ludFxyXG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goYCR7cHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfQVBJX1VSTH0vYXV0aC9sb2dpbmAsIHtcclxuICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLFxyXG4gICAgICAgICAgaGVhZGVyczoge1xyXG4gICAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxyXG4gICAgICAgICAgfSxcclxuICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcclxuICAgICAgICAgICAgZW1haWw6IGNyZWRlbnRpYWxzLmVtYWlsLFxyXG4gICAgICAgICAgICBwYXNzd29yZDogY3JlZGVudGlhbHMucGFzc3dvcmQsXHJcbiAgICAgICAgICB9KSxcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgaWYgKHJlc3BvbnNlLm9rKSB7XHJcbiAgICAgICAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xyXG4gICAgICAgICAgLy8gU3RvcmUgdGhlIEpXVCB0b2tlblxyXG4gICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ2F1dGgtdG9rZW4nLCBkYXRhLmFjY2Vzc190b2tlbik7XHJcbiAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgndXNlci1pZCcsIGRhdGEudXNlci5pZCk7XHJcbiAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgndXNlci1lbWFpbCcsIGNyZWRlbnRpYWxzLmVtYWlsKTtcclxuICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCd1c2VyLW5hbWUnLCBjcmVkZW50aWFscy5lbWFpbC5zcGxpdCgnQCcpWzBdKTtcclxuXHJcbiAgICAgICAgICAvLyBSZWRpcmVjdCBpZiBjYWxsYmFja1VSTCBpcyBwcm92aWRlZFxyXG4gICAgICAgICAgaWYgKGNyZWRlbnRpYWxzLmNhbGxiYWNrVVJMKSB7XHJcbiAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gY3JlZGVudGlhbHMuY2FsbGJhY2tVUkw7XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgcmV0dXJuIHsgZGF0YTogeyB1c2VyOiBkYXRhLnVzZXIgfSwgZXJyb3I6IG51bGwgfTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgY29uc3QgZXJyb3JEYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xyXG4gICAgICAgICAgcmV0dXJuIHsgZGF0YTogbnVsbCwgZXJyb3I6IHsgbWVzc2FnZTogZXJyb3JEYXRhLmRldGFpbCB8fCAnTG9naW4gZmFpbGVkJyB9IH07XHJcbiAgICAgICAgfVxyXG4gICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgIHJldHVybiB7IGRhdGE6IG51bGwsIGVycm9yOiB7IG1lc3NhZ2U6ICdOZXR3b3JrIGVycm9yIG9jY3VycmVkJyB9IH07XHJcbiAgICAgIH1cclxuICAgIH0sXHJcbiAgfSxcclxuICBzaWduVXA6IHtcclxuICAgIGVtYWlsOiBhc3luYyAoY3JlZGVudGlhbHM6IHsgZW1haWw6IHN0cmluZzsgcGFzc3dvcmQ6IHN0cmluZzsgbmFtZTogc3RyaW5nOyBjYWxsYmFja1VSTD86IHN0cmluZyB9KSA9PiB7XHJcbiAgICAgIC8vIFNpbXVsYXRlIEFQSSBjYWxsIHRvIGJhY2tlbmQgZm9yIHJlZ2lzdHJhdGlvblxyXG4gICAgICB0cnkge1xyXG4gICAgICAgIC8vIE1ha2UgcmVxdWVzdCB0byBiYWNrZW5kIHJlZ2lzdGVyIGVuZHBvaW50XHJcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChgJHtwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19BUElfVVJMfS9hdXRoL3JlZ2lzdGVyYCwge1xyXG4gICAgICAgICAgbWV0aG9kOiAnUE9TVCcsXHJcbiAgICAgICAgICBoZWFkZXJzOiB7XHJcbiAgICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXHJcbiAgICAgICAgICB9LFxyXG4gICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xyXG4gICAgICAgICAgICBlbWFpbDogY3JlZGVudGlhbHMuZW1haWwsXHJcbiAgICAgICAgICAgIHBhc3N3b3JkOiBjcmVkZW50aWFscy5wYXNzd29yZCxcclxuICAgICAgICAgICAgbmFtZTogY3JlZGVudGlhbHMubmFtZSxcclxuICAgICAgICAgIH0pLFxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBpZiAocmVzcG9uc2Uub2spIHtcclxuICAgICAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XHJcbiAgICAgICAgICAvLyBTdG9yZSB0aGUgSldUIHRva2VuXHJcbiAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnYXV0aC10b2tlbicsIGRhdGEuYWNjZXNzX3Rva2VuKTtcclxuICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCd1c2VyLWlkJywgZGF0YS51c2VyLmlkKTtcclxuICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCd1c2VyLWVtYWlsJywgY3JlZGVudGlhbHMuZW1haWwpO1xyXG4gICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3VzZXItbmFtZScsIGNyZWRlbnRpYWxzLm5hbWUpO1xyXG5cclxuICAgICAgICAgIC8vIFJlZGlyZWN0IGlmIGNhbGxiYWNrVVJMIGlzIHByb3ZpZGVkXHJcbiAgICAgICAgICBpZiAoY3JlZGVudGlhbHMuY2FsbGJhY2tVUkwpIHtcclxuICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSBjcmVkZW50aWFscy5jYWxsYmFja1VSTDtcclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICByZXR1cm4geyBkYXRhOiB7IHVzZXI6IGRhdGEudXNlciB9LCBlcnJvcjogbnVsbCB9O1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBjb25zdCBlcnJvckRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XHJcbiAgICAgICAgICByZXR1cm4geyBkYXRhOiBudWxsLCBlcnJvcjogeyBtZXNzYWdlOiBlcnJvckRhdGEuZGV0YWlsIHx8ICdSZWdpc3RyYXRpb24gZmFpbGVkJyB9IH07XHJcbiAgICAgICAgfVxyXG4gICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgIHJldHVybiB7IGRhdGE6IG51bGwsIGVycm9yOiB7IG1lc3NhZ2U6ICdOZXR3b3JrIGVycm9yIG9jY3VycmVkJyB9IH07XHJcbiAgICAgIH1cclxuICAgIH0sXHJcbiAgfSxcclxuICBzaWduT3V0OiBhc3luYyAoKSA9PiB7XHJcbiAgICB0cnkge1xyXG4gICAgICAvLyBDbGVhciBsb2NhbCBzdG9yYWdlXHJcbiAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCdhdXRoLXRva2VuJyk7XHJcbiAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCd1c2VyLWlkJyk7XHJcbiAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCd1c2VyLWVtYWlsJyk7XHJcbiAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCd1c2VyLW5hbWUnKTtcclxuXHJcbiAgICAgIC8vIFJlZGlyZWN0IHRvIGxvZ2luIHBhZ2VcclxuICAgICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSAnL2xvZ2luJztcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGR1cmluZyBzaWduIG91dDonLCBlcnJvcik7XHJcbiAgICB9XHJcbiAgfSxcclxufTtcclxuXHJcbi8vIEhlbHBlciBmdW5jdGlvbiB0byBjaGVjayBpZiB1c2VyIGlzIGF1dGhlbnRpY2F0ZWRcclxuZXhwb3J0IGNvbnN0IGlzQXV0aGVudGljYXRlZCA9IGFzeW5jICgpOiBQcm9taXNlPGJvb2xlYW4+ID0+IHtcclxuICAvLyBDaGVjayBpZiB0aGVyZSdzIGEgdG9rZW4gaW4gbG9jYWxTdG9yYWdlXHJcbiAgY29uc3QgdG9rZW4gPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnYXV0aC10b2tlbicpO1xyXG4gIHJldHVybiAhIXRva2VuICYmIHRva2VuLmxlbmd0aCA+IDA7XHJcbn07XHJcblxyXG4vLyBIZWxwZXIgZnVuY3Rpb24gdG8gZ2V0IHVzZXIgc2Vzc2lvblxyXG5leHBvcnQgY29uc3QgZ2V0VXNlclNlc3Npb24gPSBhc3luYyAoKSA9PiB7XHJcbiAgY29uc3QgdG9rZW4gPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnYXV0aC10b2tlbicpO1xyXG4gIGlmICh0b2tlbikge1xyXG4gICAgLy8gSW4gYSByZWFsIGltcGxlbWVudGF0aW9uLCB5b3UnZCBkZWNvZGUgdGhlIEpXVCBvciBtYWtlIGFuIEFQSSBjYWxsIHRvIGdldCB1c2VyIGluZm9cclxuICAgIHJldHVybiB7XHJcbiAgICAgIHVzZXI6IHtcclxuICAgICAgICBpZDogbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3VzZXItaWQnKSB8fCAnbW9jay11c2VyLWlkJyxcclxuICAgICAgICBlbWFpbDogbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3VzZXItZW1haWwnKSB8fCAnbW9ja0BleGFtcGxlLmNvbScsXHJcbiAgICAgICAgbmFtZTogbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3VzZXItbmFtZScpIHx8ICdNb2NrIFVzZXInLFxyXG4gICAgICB9LFxyXG4gICAgICB0b2tlbixcclxuICAgICAgZXhwaXJlc0F0OiBuZXcgRGF0ZShEYXRlLm5vdygpICsgNyAqIDI0ICogNjAgKiA2MCAqIDEwMDApLCAvLyA3IGRheXMgZnJvbSBub3dcclxuICAgIH07XHJcbiAgfVxyXG4gIHJldHVybiBudWxsO1xyXG59O1xyXG5cclxuLy8gSW5kaXZpZHVhbCBoZWxwZXIgZnVuY3Rpb25zIGZvciBiYWNrd2FyZCBjb21wYXRpYmlsaXR5XHJcbmV4cG9ydCBjb25zdCBzaWduSW4gPSBhc3luYyAoZW1haWw6IHN0cmluZywgcGFzc3dvcmQ6IHN0cmluZykgPT4ge1xyXG4gIHRyeSB7XHJcbiAgICAvLyBNYWtlIHJlcXVlc3QgdG8gYmFja2VuZCBsb2dpbiBlbmRwb2ludFxyXG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChgJHtwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19BUElfVVJMfS9hdXRoL2xvZ2luYCwge1xyXG4gICAgICBtZXRob2Q6ICdQT1NUJyxcclxuICAgICAgaGVhZGVyczoge1xyXG4gICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXHJcbiAgICAgIH0sXHJcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcclxuICAgICAgICBlbWFpbCxcclxuICAgICAgICBwYXNzd29yZCxcclxuICAgICAgfSksXHJcbiAgICB9KTtcclxuXHJcbiAgICBpZiAocmVzcG9uc2Uub2spIHtcclxuICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcclxuICAgICAgLy8gU3RvcmUgdGhlIEpXVCB0b2tlblxyXG4gICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnYXV0aC10b2tlbicsIGRhdGEuYWNjZXNzX3Rva2VuKTtcclxuICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3VzZXItaWQnLCBkYXRhLnVzZXIuaWQpO1xyXG4gICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgndXNlci1lbWFpbCcsIGVtYWlsKTtcclxuICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3VzZXItbmFtZScsIGVtYWlsLnNwbGl0KCdAJylbMF0pO1xyXG5cclxuICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBjb25zdCBlcnJvckRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XHJcbiAgICAgIHRocm93IG5ldyBFcnJvcihlcnJvckRhdGEuZGV0YWlsIHx8ICdMb2dpbiBmYWlsZWQnKTtcclxuICAgIH1cclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgY29uc29sZS5lcnJvcignU2lnbiBpbiBlcnJvcjonLCBlcnJvcik7XHJcbiAgICB0aHJvdyBlcnJvcjtcclxuICB9XHJcbn07XHJcblxyXG5leHBvcnQgY29uc3Qgc2lnbk91dCA9IGFzeW5jICgpID0+IHtcclxuICB0cnkge1xyXG4gICAgLy8gQ2xlYXIgbG9jYWwgc3RvcmFnZVxyXG4gICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oJ2F1dGgtdG9rZW4nKTtcclxuICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCd1c2VyLWlkJyk7XHJcbiAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgndXNlci1lbWFpbCcpO1xyXG4gICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oJ3VzZXItbmFtZScpO1xyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICBjb25zb2xlLmVycm9yKCdFcnJvciBkdXJpbmcgc2lnbiBvdXQ6JywgZXJyb3IpO1xyXG4gICAgdGhyb3cgZXJyb3I7XHJcbiAgfVxyXG59O1xyXG5cclxuLy8gRXhwb3J0IHR5cGVzXHJcbmV4cG9ydCB0eXBlIFVzZXJTZXNzaW9uID0ge1xyXG4gIHVzZXI6IHtcclxuICAgIGlkOiBzdHJpbmc7XHJcbiAgICBlbWFpbDogc3RyaW5nO1xyXG4gICAgbmFtZTogc3RyaW5nO1xyXG4gIH07XHJcbiAgdG9rZW4/OiBzdHJpbmc7XHJcbiAgZXhwaXJlc0F0OiBEYXRlO1xyXG59OyJdLCJuYW1lcyI6WyJhdXRoQ2xpZW50Iiwic2lnbkluIiwiZW1haWwiLCJjcmVkZW50aWFscyIsInJlc3BvbnNlIiwiZmV0Y2giLCJwcm9jZXNzIiwiZW52IiwiTkVYVF9QVUJMSUNfQVBJX1VSTCIsIm1ldGhvZCIsImhlYWRlcnMiLCJib2R5IiwiSlNPTiIsInN0cmluZ2lmeSIsInBhc3N3b3JkIiwib2siLCJkYXRhIiwianNvbiIsImxvY2FsU3RvcmFnZSIsInNldEl0ZW0iLCJhY2Nlc3NfdG9rZW4iLCJ1c2VyIiwiaWQiLCJzcGxpdCIsImNhbGxiYWNrVVJMIiwid2luZG93IiwibG9jYXRpb24iLCJocmVmIiwiZXJyb3IiLCJlcnJvckRhdGEiLCJtZXNzYWdlIiwiZGV0YWlsIiwic2lnblVwIiwibmFtZSIsInNpZ25PdXQiLCJyZW1vdmVJdGVtIiwiY29uc29sZSIsImlzQXV0aGVudGljYXRlZCIsInRva2VuIiwiZ2V0SXRlbSIsImxlbmd0aCIsImdldFVzZXJTZXNzaW9uIiwiZXhwaXJlc0F0IiwiRGF0ZSIsIm5vdyIsIkVycm9yIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./src/lib/auth.ts\n"));

/***/ })

});